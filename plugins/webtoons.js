ExView.Plugins({info:{name:"WebToons\u6f2b\u753b",version:"2.2",icon:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAICAgICAQICAgIDAgIDAwYEAwMDAwcFBQQGCAcJCAgHCAgJCg0LCQoMCggICw8LDA0ODg8OCQsQERAOEQ0ODg7/2wBDAQIDAwMDAwcEBAcOCQgJDg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg7/wgARCAAQABADAREAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAQIFCP/EABgBAAIDAAAAAAAAAAAAAAAAAAEIAAMF/9oADAMBAAIQAxAAAADbinrAxlejSAP/xAAgEAACAgMAAgMBAAAAAAAAAAABAgMGBAURABIUITEy/9oACAEBAAE/AKNVqBpa5gbC71XM3e3zcM7HHM0ziAIyyCONlXq8YxoFLdYvOBzy96Wkbis7HKp9OlrWxw9e2fLIMth6CLJME0Rh/kfjEMD36/PKfsa0tb1mu2Vmnqe+wIYolyZoZXhlCSllYMH4D6lQQ3ASiggqOG17rAw6Xma7Bt4tOTsdbJhfExOyxYbMyl5TM59n9gpHOEknz//EACERAAAGAQQDAAAAAAAAAAAAAAECAwQFEQASEyFBYYGh/9oACAECAQE/AIGMiGrUgv0rMNjfPrJ6NinLIy7JHScvd+ayGkYo7Qqayu2oHdXeS8s0aNBTRW3BN1VVz9vP/8QAIhEAAQQCAgEFAAAAAAAAAAAAAQIDBAUAESFBExIxUYGh/9oACAEDAQE/AKarp4kZDk5naiCfc/WW8KskRVuRGfQR3s/Osq1V4YShxzxrHeid85ZSI6Yxbbc8hV1yNc/u8//Z",
db:"webtoons",apihost:"http://m.webtoons.com/",pagetitle:["<br>","\u6536\u85cf","\u5168\u90e8","\u7c7b\u578b","\u4e0b\u8f7d"],lazyload:!0,download:!0,setting:!0,gallerymode:!0,nativeres:!0,vphotomode:!0,cdn:""},set:function(a){},unset:function(a){},init:function(){ExView.workers.fav.listloader({callback:function(){ExView.workers.index.loader()}})},flags:{indexflag:{loader:function(a){a.front||a.page||addtypelist('<div align="center" class="list-block"><img src="img/logo.png"/><br>\u7c7b\u578b<br>\u6b63\u5728\u52a0\u8f7d...<div class="progress"></span></div>',
2);return{url:pluginfo(a.plugin).apihost+"zh-hans/genre",method:"GET",timeout:120,successfn:function(b,c){ExView.workers.index.countfinder(obj_contact(a,{result:b,header:c}));a.front||a.page||ExView.workers.type.finder({result:b,plugin:a.plugin});a.successfn&&a.successfn({result:b,header:c})},showinfo:{text:"\u6b63\u5728\u52a0\u8f7d..."+(1<a.page?"<br>\u7b2c"+a.page+"\u9875":""),title:a.title,name:"\u5168\u90e8",img:a.img}}},finder:function(a){return{reg:/list\?title_no=(\d+)"(.*?)<\/li>/g,str:getresult(a.result),
find:{pid:"$1",content:"$2"},successfn:function(b){console.log(JSON.stringify(b));if(array_count(b)){var c=b.pid,f=getimgload(getstr(/src="((?!\").*?)"/,b.content),a.plugin||mySession.nowplugin,{nativeres:!0,cacheheader:{Referer:pluginfo(a.plugin).apihost}});b=getstr(/class="ellipsis">((?!<).*?)</,b.content);addcardlist({pid:c,title:b,img:f})}else addcardlist('<div align="center" class="list-block"><img src="img/logo.png"/><br>\u6ca1\u6709\u5185\u5bb9</div>',2)},errorfn:function(){a.page||setnowlistname("\u5168\u90e8",
"",pluginfo(a.plugin).icon);ExView.fw.hidePreloader();mySession.isloading=0;ExView.fw.alert("\u7f51\u7edc\u9519\u8bef\uff01","ExView")}}},countloader:function(a){return!1},countfinder:function(a){return{successfn:function(){return{pagecount:-1}}}}},typeflag:{loader:function(a){return{successfn:function(){ExView.workers.index.loader()}}},finder:function(a){addtypelist({title:"\u5168\u90e8",img:pluginfo(a.plugin).icon,group:{name:"daohang",title:"\u5bfc\u822a"},content:"\u5168\u90e8"})}},listflag:{loader:function(a){return!1},
finder:function(a){return!1},countloader:function(a){return!1},countfinder:function(a){return!1}},searchflag:{loader:function(a){return 1<parseInt(a.page)?(a.multsearch&&a.multsearch(),!1):{url:pluginfo(a.plugin).apihost+"search",method:"POST",data:"keyword="+encodeURIComponent(a.keyword)+"&searchType=ALL",timeout:120,header:{"content-type":"application/x-www-form-urlencoded"},successfn:function(b,c){b?(a.multsearch||(ExView.workers.search.countfinder(obj_contact(a,{result:b,header:c})),setnowlistname("\u641c\u7d22\u3010"+
a.keyword+"\u3011")),a.successfn&&a.successfn({result:b,header:c})):a.multsearch?a.multsearch():(ExView.fw.hidePreloader(),mySession.isloading=0,ExView.fw.alert("\u3010"+a.keyword+"\u3011<br>\u83b7\u53d6\u641c\u7d22\u7ed3\u679c\u5931\u8d25\uff01","ExView"))},showinfo:{text:"\u6b63\u5728\u641c\u7d22..."+(1<a.page?"<br>\u7b2c"+a.page+"\u9875":""),name:"\u3010"+a.keyword+"\u3011",title:"\u641c\u7d22"}}},finder:function(a){return{json:!0,str:a.result,successfn:function(b,c,f){console.log(b);array_count(b)?
(b=(b||{}).webtoonResult,b=(b||{}).titleList,b.forEach(function(b){var c=b.titleNo,d="http://mwebtoon.phinf.naver.net"+b.thumbnailMobile,d=getimgload(d,a.plugin||mySession.nowplugin,{nativeres:!0,cacheheader:{Referer:pluginfo(a.plugin).apihost}});b=b.title;if(a.multsearch)return a.multsearch(obj_contact(a,{pid:c,img:d,title:b})),!1;addcardlist({pid:c,title:b,img:d})})):a.multsearch?a.multsearch():addcardlist('<div align="center" class="list-block"><img src="img/logo.png"/><br>\u6ca1\u6709\u5185\u5bb9</div>',
1)}}},countloader:function(a){return!1},countfinder:function(a){return{successfn:function(b){return{pagecount:-1,keyword:a.keyword}}}}},contentflag:{loader:function(a){return{url:pluginfo(a.plugin).apihost+"episodeList?titleNo="+a.pid,method:"GET",timeout:120,successfn:function(b,c){b?a.successfn&&a.successfn({result:b,header:c}):a.checkupdate||(ExView.fw.hidePreloader(),mySession.isloading=0,ExView.fw.alert("\u5185\u5bb9\u9875\u83b7\u53d6\u5931\u8d25\uff01","ExView"))},showinfo:{text:"\u6b63\u5728\u52a0\u8f7d\u5185\u5bb9\u9875...",
title:"\u5185\u5bb9\u9875",name:getlistname(a.pid),img:getlistimg(a.pid)}}},finder:function(a){return{reg:/id="episode_\d+"(?!<).*?><a href="((?!\").*?)".*?class="ellipsis">((?!<).*?)</g,str:getresult(a.result),find:{pid:a.pid,cid:"$1",title:"$2"},successfn:function(b,c,f,e){console.log(typeof b);if(array_count(b)){if(a.checkupdate)return{pid:b.pid,cid:b.cid,title:b.title};c=e;e=[];c.forEach(function(b,d){e[d]=additemlist({id:c.length-d-1,newest:a.newest&&0==d,pid:a.pid,cid:stringtolitehex(b.cid),
title:b.title,count:c.length,reverse:1})});return e}a.checkupdate||(ExView.fw.hidePreloader(),mySession.isloading=0,ExView.fw.alert("\u5185\u5bb9\u9875\u83b7\u53d6\u5931\u8d25\uff01","ExView"))},afterfn:function(){a.checkupdate||ExView.workers.content.infofinder(a)}}},infoloader:function(a){return!1},infofinder:function(a){console.log(a);return!1}},parseflag:{loader:function(a){return{url:litehextostring(a.cid),method:"GET",timeout:120,successfn:function(b,c){a.successfn&&a.successfn({result:b,header:c})},
showinfo:{text:"\u6b63\u5728\u52a0\u8f7d\u56fe\u7247\u4fe1\u606f...",title:"\u56fe\u7247",name:getlistname(a.pid),img:getlistimg(a.pid)}}},finder:function(a){console.log(a);return{reg:/var\s*imageList\s*=\s*\[(.*?)\]/g,str:getresult(a.result),find:"$1",successfn:function(b,c,f,e){array_count(e)?(b=eval("(["+e+"])"),b=b.map(function(b){b=b.url;return b=getimgload(b,a.plugin||mySession.nowplugin,{nativeres:!0,cacheheader:{Referer:pluginfo(a.plugin).apihost}})}),console.log(b),a.download?chapterpredownload({source:b,
download:a.download,plugin:a.plugin}):chapterviewer({source:b,type:"image",startindex:a.startindex||0,lazyload:pluginfo(a.plugin).lazyload,zoom:!0,title:a.title})):a.download?chapterpredownload({error:"\u89e3\u6790\u9519\u8bef\uff01",download:a.download,plugin:a.plugin}):(ExView.fw.hidePreloader(),mySession.isloading=0,ExView.fw.alert("\u56fe\u7247\u4fe1\u606f\u83b7\u53d6\u5931\u8d25\uff01","ExView"));return!0}}}},commentflag:{loader:!1,finder:!1},previewflag:{loader:!1,finder:!1,more:!1},pageimgflag:{parser:!1},
updateflag:{loader:function(a){a.multupdate();return!1},finder:function(a){return!1}},hotflag:{loader:function(a){a.multhot();return!1},finder:function(a){return!1}}},fns:{pagerule:/<li>((?:.|[\r\n])*?)<\/li>/g,pagefind:"$1",pagedeal:function(a,b){b=b||{};a=(a||"").replace(/\r*\n/g,"").replace(/>\s*</g,"><");var c=getstr(/\/manhua\/(\d+)\//,a),f=getstr(/<img(?!<).*?src="((?!\").*?)"/,a),e=getstr(/<i>((?!<).*?)<\/i>/,a).trim(),g=getstr(/<h3>((?!<).*?)<\/h3>/,a).trim(),d=getstr(/<dt>\u4f5c\u3000\u8005\uff1a<\/dt><dd>((?!<).*?)<\/dd>/,
a).trim(),k=getstr(/<dt>\u7c7b\u3000\u522b\uff1a<\/dt><dd>((?!<).*?)<\/dd>/,a).trim(),h=getstr(/<dt>\u66f4\u65b0\u81f3\uff1a<\/dt><dd>((?!<).*?)<\/dd>/,a).trim(),l=getstr(/<dt>\u66f4\u65b0\u4e8e\uff1a<\/dt><dd>((?!<).*?)<\/dd>/,a).trim();if(b.multupdate)return b.multupdate(obj_contact(b,{pid:c,img:f,title:g,content:h})),!1;if(b.multhot)return b.multhot(obj_contact(b,{pid:c,img:f,title:g,content:h})),!1;if(b.multsearch)return b.multsearch(obj_contact(b,{pid:c,img:f,title:g,content:h})),!1;addcardlist({pid:c,
title:g,name:g,img:f,content:(k?"\u3010\u7c7b\u578b\u3011"+k+"<br>":"")+(d.replace(/&nbsp;/g,"")?"\u3010\u4f5c\u8005\u3011"+d+"<br>":"")+"\u3010\u6700\u65b0\u3011"+h,stitle:(e?"\u3010"+e+"\u3011":"")+l,comment:1,preview:0,extrabutton:""})}}});
