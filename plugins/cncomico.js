ExView.Plugins({info:{name:"Comico漫画",version:"2.2",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAkFBMVEXhEwDfEADjFgDjFgDhEwDeDwDgEgDeEADfEADeEADhFQDhEwDjFwDgEgD5+fncDwD08/Py8fHdrKnXdGzjFQDgEADv7u7eHgz19fXs6+vl5OXduLbXjIbZXVDaNibjEwD7+/vs397l2dniycjYm5bdlI7akYrbhn7Yg3vYdmzUZlvXT0LYUEHaKhrcHQzkGAAOkDAWAAAACXRSTlPx8fGgDKDt5Zd+/s6WAAAAtUlEQVQY0zWMh5LCMAxElcadJEtxHELgaNfp8P9/x8YzrO2x9q0kqpuiZR6YueV21tTUDJPJHq99p4JfGib2Rjka+5RSfzfmgmxvPK6ju8c1G4CqWh+9W3TxY2dGpGb24187u202CDECsvKDmmYRTdXK//Dt4TEiKvbt3VYv/VlMAUTmp/gZp6UiAHOQMXVLXy5+0V2SZG3/0/EqCInKEEQCDhw0oypkPUADbkV1hZ5cQ2VVPwFaDA3+mWJ6AwAAAABJRU5ErkJggg==",
db:"cncomico",apihost:"http://www.comico.com.tw/",pagetitle:["<br>","收藏","更新","类型","下载"],lazyload:!1,download:!0,setting:!0,typelistmode:!0,nativeres:!0,vphotomode:!0,cdn:""},set:function(a){},unset:function(a){},init:function(a){ExView.workers.fav.listloader({callback:function(){}})},flags:{indexflag:{loader:function(a){return{url:pluginfo(a.plugin).apihost+"challenge/updateList.nhn?order=update&page="+(a.page||1),method:"GET",timeout:120,successfn:function(b,
c){a.callback({img:pluginfo(a.plugin).icon,multpage:!0,result:b,header:c})}}},finder:function(a){return{json:!0,str:a.result,successfn:function(b){b=(b||{}).result.list;array_count(b)?plugfns(a.plugin).pagedeal(b,a):a.callback()}}},countloader:!1,countfinder:function(a){return{json:!0,str:a.result,successfn:function(b){try{b=(b=(b||{}).result.totalPageCnt)||0}catch(c){b=-1}a.callback({pagecount:b})}}}},typeflag:{loader:!1,finder:function(a){a.callback({title:"更新",img:pluginfo(a.plugin).icon,
group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"更新"});a.callback({tid:"ybxs",listflag:"challenge/updateList.nhn?order=new&page={{page}}",title:"新作",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"新作"});a.callback({tid:"ybxs",listflag:"challenge/ranking/list.nhn?order=all&page={{page}}",title:"排行",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",
title:"一般作品·新手村"},content:"排行"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=drama&page={{page}}",title:"劇情",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"劇情"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=comedy&page={{page}}",title:"幽默‧搞笑",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",
title:"一般作品·新手村"},content:"幽默‧搞笑"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=sliceoflife&page={{page}}",title:"日常",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"日常"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=school&page={{page}}",title:"校園",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",
title:"一般作品·新手村"},content:"校園"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=romance&page={{page}}",title:"愛情",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"愛情"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=fantasy&page={{page}}",title:"奇幻",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",
title:"一般作品·新手村"},content:"奇幻"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=horror&page={{page}}",title:"懸疑‧恐怖",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"懸疑‧恐怖"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=action&page={{page}}",title:"冒險‧動作",img:pluginfo(a.plugin).icon,
group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"冒險‧動作"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=historical&page={{page}}",title:"歷史‧古裝",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"歷史‧古裝"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=sports&page={{page}}",
title:"運動",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"運動"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=essay&page={{page}}",title:"圖文‧記事",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"圖文‧記事"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=joy&page={{page}}",
title:"輕鬆歡樂",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"輕鬆歡樂"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=bllight&page={{page}}",title:"微BL",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"微BL"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=sf&page={{page}}",
title:"科幻",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"科幻"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=mystery&page={{page}}",title:"神秘",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"神秘"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=omnibus&page={{page}}",
title:"特輯",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"特輯"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=variety&page={{page}}",title:"其他類別",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"其他類別"});a.callback({tid:"ybxs",listflag:"challenge/genres/list.nhn?genreUrl=finish&page={{page}}",
title:"完結",img:pluginfo(a.plugin).icon,group:{name:"yibanxinshoucun",title:"一般作品·新手村"},content:"完結"});return!0}},listflag:{loader:function(a){return{url:pluginfo(a.plugin).apihost+a.flag.replace("{{page}}",a.page||1),method:"GET",timeout:120,successfn:function(b,c){a.callback({multpage:!0,result:b,header:c})}}},finder:function(a){return{json:!0,str:a.result,successfn:function(b){b=(b||{}).result.list;array_count(b)?plugfns(a.plugin).pagedeal(b,
a):a.callback()}}},countloader:!1,countfinder:function(a){return{json:!0,str:a.result,successfn:function(b){try{b=(b=(b||{}).result.totalPageCnt)||-1}catch(c){b=-1}a.callback({pagecount:b})}}}},searchflag:{loader:function(a){return{url:pluginfo(a.plugin).apihost+"search/index.nhn?searchWord="+encodeURIComponent(a.keyword),method:"GET",timeout:120,successfn:function(b,c){a.callback({multpage:!0,result:b,header:c})}}},finder:function(a){return{query:!0,selector:".list-article02__item",str:a.result,
successfn:function(b){var c=getstr(/\/(\d+)\//g,$$(b).find("a").attr("href")),e=$$(b).find("a").attr("title"),f=$$(b).find(".list-article02__cover-inner").attr("data-img-url"),d=$$(b).find(".list-article02__label3-item").text(),g=$$(b).find(".list-article02__label2").text();if(array_count(b)){if(a.multsearch)return a.callback(obj_contact(a,{pid:c,img:f,title:e,content:g})),!1;a.callback({pid:c,title:e,img:f,stitle:d||"",content:g})}else a.callback()}}},countloader:!1,countfinder:function(a){return{successfn:function(b){a.callback({pagecount:-1})}}}},
contentflag:{loader:function(a){return{url:pluginfo(a.plugin).apihost+"api/getArticleListAll.nhn?titleNo="+a.pid,method:"GET",timeout:120,successfn:function(b,c){a.callback({result:b,header:c})}}},finder:function(a){return{json:!0,str:a.result,successfn:function(b,c,e,f){var d=(b||{result:{}}).result.isOfficial;b=(b||{result:{}}).result.list;if(array_count(b)){if(a.checkupdate)return b=d?b.pop():b[0],a.callback({pid:a.pid,cid:b.articleNo,title:b.subtitle}),!0;f=[];b.forEach(function(c,e){f[e]=a.callback({id:d?
e:b.length-e-1,newest:a.newest&&0==e,pid:a.pid,cid:c.articleNo,title:c.subtitle,count:b.length,reverse:d?0:1})});return f}a.callback()}}},infoloader:!1,infofinder:function(a){return{successfn:function(b,c,e,f){a.callback({sourceurl:pluginfo(a.plugin).apihost+a.pid});return!0}}}},parseflag:{loader:function(a){return{url:pluginfo(a.plugin).apihost+a.pid+"/"+a.cid+"/",method:"GET",timeout:120,successfn:function(b,c){a.callback({result:b,header:c})}}},finder:function(a){console.log(a);return{reg:/imageData:\[(.*?)\]/,
find:"$1",str:getresult(a.result),successfn:function(b,c,e,f){if(b)d=b=b.replace(/\'/g,"").replace(/\r*\n/g,"").replace(/\s*/g,"").split(",");else{var d=[];getquery(a.result,".comic-image__image").each(function(){d.push($$(this).attr("src"))})}array_count(d)?(console.log(d),a.download?a.callback({source:d,download:a.download,plugin:a.plugin}):a.callback({source:d,type:"image",startindex:a.startindex||0,lazyload:pluginfo(a.plugin).lazyload,zoom:!0,title:a.title})):a.callback();return!0}}}},previewflag:{loader:!1,
finder:!1},pageimgflag:{parser:!1},updateflag:{loader:function(a){return{url:pluginfo(a.plugin).apihost+"challenge/updateList.nhn?order=update&page="+(a.page||1),method:"GET",timeout:120,successfn:function(b,c){a.callback({result:b,header:c})}}},finder:function(a){return{json:!0,str:a.result,successfn:function(b){b=(b||{}).result.list;array_count(b)?plugfns(a.plugin).pagedeal(b,a):a.callback()}}}},hotflag:{loader:function(a){return{url:pluginfo(a.plugin).apihost+"challenge/updateList.nhn?order=new&page="+
(a.page||1),method:"GET",timeout:120,successfn:function(b,c){a.callback({result:b,header:c})}}},finder:function(a){return{json:!0,str:a.result,successfn:function(b){b=(b||{}).result.list;array_count(b)?plugfns(a.plugin).pagedeal(b,a):a.callback()}}}}},fns:{pagedeal:function(a,b){b=b||{};a.forEach(function(a){var e=getstr(/challenge\/(\d+)/g,a.article_url),f=a.img_url,d=a.article_title,g=a.author;a=a.description;if(b.multupdate||b.multhot||b.multsearch)return b.callback(obj_contact(b,{pid:e,img:f,
title:d,content:a})),!1;b.callback({pid:e,title:d,img:f,stitle:g||"",content:a,comment:0})})}}});
